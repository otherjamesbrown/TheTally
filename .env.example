# TheTally Environment Configuration
# Copy this file to .env and fill in your actual values
# NEVER commit the .env file to version control

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DATABASE_URL=postgresql://username:password@localhost:5432/thetally
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=thetally
DATABASE_USER=your_db_user
DATABASE_PASSWORD=your_db_password

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
# JWT Configuration
JWT_SECRET_KEY=your-super-secret-jwt-key-here
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# 2FA Configuration
TOTP_ISSUER=TheTally
TOTP_ALGORITHM=SHA1
TOTP_DIGITS=6
TOTP_PERIOD=30

# Password Hashing
BCRYPT_ROUNDS=12

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_ORIGINS=http://localhost:3000,http://localhost:5173
CORS_ALLOW_CREDENTIALS=true

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/thetally.log

# Structured Logging
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years
FUNCTIONAL_LOG_RETENTION_DAYS=365  # 1 year
DEBUG_LOG_RETENTION_DAYS=30  # 30 days

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================
# OpenAI (if using AI features)
OPENAI_API_KEY=your-openai-api-key-here

# Google Cloud Platform
GOOGLE_CLOUD_PROJECT_ID=your-gcp-project-id
GOOGLE_APPLICATION_CREDENTIALS=path/to/service-account.json

# Email Service (for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_USE_TLS=true

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
# Environment
ENVIRONMENT=development
DEBUG=true
SECRET_KEY=your-application-secret-key

# Server Configuration
HOST=0.0.0.0
PORT=8000
WORKERS=1

# Frontend URL
FRONTEND_URL=http://localhost:3000

# =============================================================================
# MULTI-TENANT CONFIGURATION
# =============================================================================
# Tenant isolation
DEFAULT_TENANT_ID=default
TENANT_ISOLATION_MODE=shared_database

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
MAX_FILE_SIZE=10485760  # 10MB
ALLOWED_FILE_TYPES=csv,ofx,qif
UPLOAD_DIR=uploads

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60  # seconds

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================
# Prometheus metrics
ENABLE_METRICS=true
METRICS_PORT=9090

# Health check
HEALTH_CHECK_INTERVAL=30

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================
# Development tools
ENABLE_DEBUG_TOOLBAR=false
ENABLE_SQL_LOGGING=false
ENABLE_CORS_DEBUG=false

# Test configuration
TEST_DATABASE_URL=postgresql://test_user:test_password@localhost:5432/thetally_test
TESTING=false

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================
# Uncomment and modify for production
# ENVIRONMENT=production
# DEBUG=false
# DATABASE_URL=postgresql://prod_user:prod_password@prod-host:5432/thetally_prod
# JWT_SECRET_KEY=your-production-jwt-secret
# SECRET_KEY=your-production-secret-key
